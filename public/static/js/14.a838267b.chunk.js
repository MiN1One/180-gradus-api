(this["webpackJsonpcover-exp"]=this["webpackJsonpcover-exp"]||[]).push([[14],{112:function(e,a,c){"use strict";c(113);var n=c(2);a.a=function(e){var a=e.z,c=e.close,t=e.className;return Object(n.jsx)("div",{className:"backdrop ".concat(t||""),style:{zIndex:a},onClick:function(){return c()}})}},113:function(e,a,c){},114:function(e,a,c){"use strict";var n=c(2);a.a=function(e){var a=e.className;return Object(n.jsx)("div",{className:"loading ".concat(a||"")})}},164:function(e,a,c){},178:function(e,a,c){"use strict";c.r(a);var n=c(5),t=c(26),s=c(1),i=c(4),l=c(6),r=c(67),d=c(109),j=c(18),m=c(123),b=(c(164),c(16)),o=c(43),u=c(114),h=c(112),O=c(2),_=function(e){var a=e.click,c=e.close,n=(e.message,e.items),t=Object(r.a)().t;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.a,{z:100,close:c}),Object(O.jsxs)("div",{className:"confirm",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{className:"confirm__text",children:t("main.confirm")}),n&&Object(O.jsxs)("p",{className:"confirm__text--sub",children:[t("main.to delete"),": ",n]})]}),Object(O.jsxs)("div",{className:"flex w-100 jce",children:[Object(O.jsx)("button",{className:"btn btn__ghost btn__ghost--active mr-1",onClick:a,children:t("main.apply")}),Object(O.jsx)("button",{className:"btn btn__ghost btn__ghost--active",onClick:c,children:t("main.cancel")})]})]})]})},x=function(){var e=Object(r.a)().t,a=Object(s.useState)(null),c=Object(t.a)(a,2),i=c[0],l=c[1],o=Object(s.useState)(!1),h=Object(t.a)(o,2),x=h[0],f=h[1],N=Object(s.useState)(!1),p=Object(t.a)(N,2),v=(p[0],p[1],Object(s.useRef)()),g=Object(s.useState)(!1),k=Object(t.a)(g,2),C=k[0],w=k[1],y=Object(s.useState)(!1),S=Object(t.a)(y,2),F=(S[0],S[1]),I=Object(s.useState)(!1),z=Object(t.a)(I,2),E=z[0],q=z[1],A=Object(s.useState)(null),D=Object(t.a)(A,2),H=D[0],J=D[1],L=Object(s.useState)(null),$=Object(t.a)(L,2),B=$[0],G=$[1],P=Object(s.useState)(null),R=Object(t.a)(P,2),Y=R[0],K=R[1];Object(s.useEffect)((function(){Object(b.a)("/skins").then((function(e){var a=e.data;console.log(a),l(a.data.data)}))}),[]);var M=E&&E._id;Object(s.useEffect)((function(){return K(null)}),[M]);var Q=E&&E.skins&&E.skins.map((function(e,a){return Object(O.jsxs)("div",{className:"admin__panel-item ".concat(H&&H._id===e._id?"admin__panel-item--active":""),tabIndex:"0",onClick:function(){return J(e)},children:[Object(O.jsxs)("div",{className:"flex aic",children:[Object(O.jsx)("figure",{className:"admin__panel-figure",children:Object(O.jsx)(d.LazyLoadImage,{className:"img",width:"100%",height:"100%",alt:e.name,effect:"opacity",src:"http://localhost:3003/images/".concat(e.image)})}),Object(O.jsx)("span",{className:"admin__panel-itemname",children:e.name})]}),Object(O.jsxs)("span",{className:"admin__panel-itemprice",children:["$",parseFloat(e.price).toFixed(2)]})]},a)})),T=i&&i.length>0&&i.map((function(a,c){return Object(O.jsxs)("li",{className:"admin__item pos-rel",children:[Object(O.jsxs)("div",{className:"admin__card ".concat(E&&a._id===E._id?"admin__card--active":""),onClick:function(){var e;F(!1),e=a,f(!0),Object(b.a)("/skins/".concat(e._id,"?project=skins")).then((function(a){var c=a.data;q(Object(n.a)(Object(n.a)({},e),{},{skins:c.data.data.skins})),f(!1)})),G(null)},tabIndex:"0",children:[Object(O.jsxs)("div",{className:"flex fdc mr-15",children:[Object(O.jsx)("span",{className:"admin__card-title",children:a.device}),Object(O.jsx)("span",{className:"heading heading--sub c-grey-l",children:a.type})]}),Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsxs)("span",{className:"admin__card-feature",children:[e("main.num skins"),": ",a.skins.length]}),Object(O.jsxs)("span",{className:"admin__card-feature",children:[e("main.num purchases"),": ",a.numberOfPurchases]})]})]}),Object(O.jsx)("div",{className:"admin__card-sets",children:E&&E._id===a._id&&Object(O.jsx)("button",{className:"admin__card-btn",onClick:function(){return G("device")},children:Object(O.jsx)(j.q,{className:"icon--sm"})})})]},c)}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"flex w-100 jce mb-15",children:[E&&Object(O.jsx)("button",{className:"btn btn__ghost btn__ghost--active mr-1",onClick:function(){return Y?function(){var e=new FormData,a=v.current.files;console.log(a),Array.from(a).forEach((function(a){e.append("skinImage",a)})),b.a.patch("/skins/".concat(E._id),{images:e}).then((function(e){console.log(e)}))}():K({name:"",price:"",image:null})},children:e(Y?"main.save":"main.add skin")}),Object(O.jsx)("button",{className:"btn btn__ghost btn__ghost--active",onClick:function(){w(!C),F(!1)},children:e(C?"main.save":"main.add")})]}),Object(O.jsxs)("div",{className:"flex w-100",children:[B&&"device"===B&&Object(O.jsx)(_,{click:function(){b.a.delete("/skins/".concat(E._id)).then((function(e){var a=i.filter((function(e){return e._id!==E._id}));l(a),q(null),G(null)}))},close:function(){return G(null)},items:E.device}),i&&i.length>0?Object(O.jsxs)("div",{className:"flex fdc w-100",children:[Object(O.jsx)(m.Scrollbars,{className:"fgr",style:{height:"25rem",width:"100%"},children:Object(O.jsx)("ul",{className:"admin__list",children:T})}),Y&&Object(O.jsxs)("div",{className:"admin__form",children:[Object(O.jsx)("div",{className:"admin__panel-head",children:Object(O.jsxs)("div",{className:"flex aic jcsb",children:[Object(O.jsx)("h1",{className:"heading heaing--main",children:e("main.add")}),Object(O.jsx)("button",{className:"btn btn__circle",onClick:function(){return K(null)},children:Object(O.jsx)(j.q,{className:"icon"})})]})}),Object(O.jsxs)("div",{className:"flex w-100",children:[Object(O.jsxs)("div",{className:"w-100",children:[Object(O.jsxs)("label",{className:"admin__card-feature w-100",children:[e("main.name"),Object(O.jsx)("input",{className:"admin__input",type:"text",placeholder:e("main.name"),value:Y.name,onChange:function(e){return K((function(a){return Object(n.a)(Object(n.a)({},a),{},{name:e.target.value})}))}})]}),Object(O.jsxs)("label",{className:"admin__card-feature w-100",children:[e("main.price"),Object(O.jsx)("input",{className:"admin__input",type:"text",placeholder:e("main.price"),value:Y.price,onChange:function(e){return K((function(a){return Object(n.a)(Object(n.a)({},a),{},{price:e.target.value})}))}})]}),Object(O.jsx)("input",{className:"none",type:"file",accept:"image/*",ref:v})]}),Object(O.jsxs)("div",{className:"admin__images",children:[Object(O.jsx)("span",{className:"admin__card-feature",children:"Images:"}),Object(O.jsx)("button",{className:"btn btn__ghost btn__ghost--active",type:"button",onClick:function(){return v.current.click()},children:Object(O.jsx)(j.o,{className:"icon"})})]})]})]})]}):Object(O.jsx)("div",{className:"admin__list text text--mid tc",children:e("main.nothing here")}),C&&Object(O.jsxs)("div",{className:"admin__panel",children:[Object(O.jsxs)("div",{className:"admin__panel-head flex aic jcsb",children:[Object(O.jsx)("h1",{className:"heading heaing--main",children:e("main.add")}),Object(O.jsx)("button",{className:"btn btn__circle",onClick:function(){return w(!1)},children:Object(O.jsx)(j.q,{className:"icon"})})]}),Object(O.jsx)("div",{className:"admin__panel-body"})]}),E?Object(O.jsx)("div",{className:"admin__panel",children:x?Object(O.jsx)("div",{className:"wh-100 flex aic jcc",children:Object(O.jsx)(u.a,{})}):Object(O.jsxs)(O.Fragment,{children:[B&&"skin"===B&&Object(O.jsx)(_,{click:function(){return function(e){var a=E.skins.filter((function(a){return a._id!==e}));b.a.patch("/skins/".concat(E._id),{skins:a}).then((function(e){q(Object(n.a)(Object(n.a)({},E),{},{skins:a})),G(!1),console.log(e)}))}(H._id)},close:function(){return G(null)},items:"".concat(E.device,", ").concat(H.name)}),Object(O.jsxs)("div",{className:"admin__panel-head",children:[Object(O.jsxs)("div",{className:"flex jcsb aic",children:[Object(O.jsx)("h1",{className:"heading heaing--main",children:E.device}),Object(O.jsx)("button",{className:"btn btn__circle",onClick:function(){return q(null)},children:Object(O.jsx)(j.q,{className:"icon"})})]}),Object(O.jsxs)("span",{className:"admin__card-feature",children:[e("main.num skins"),": ",E.skins.length,"; ",e("main.avg price"),": $",parseFloat(E.skins.reduce((function(e,a){return e+parseFloat(a.price)}),0)/E.skins.length).toFixed(2)]})]}),Object(O.jsx)("div",{className:"admin__panel-body",children:Object(O.jsx)(m.Scrollbars,{className:"admin__panel-wrapper",children:Q})}),Object(O.jsx)("div",{className:"admin__panel-footer",children:H&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"admin__card-btn mr-5",onClick:function(){},children:Object(O.jsx)(j.m,{className:"icon--sm"})}),Object(O.jsx)("button",{className:"admin__card-btn",onClick:function(){return G("skin")},children:Object(O.jsx)(j.k,{className:"icon--sm"})})]})})]})}):!C&&Object(O.jsx)("div",{className:"admin__panel"})]})]})},f=function(e){var a=e.onAuth,c=Object(r.a)().t,n=Object(s.useState)("admin"),i=Object(t.a)(n,2),l=i[0],d=i[1],j=Object(s.useState)("hehe boay"),m=Object(t.a)(j,2),u=m[0],h=m[1],_=Object(s.useState)(null),x=Object(t.a)(_,2),f=x[0],N=x[1],p=Object(s.useState)(!1),v=Object(t.a)(p,2),g=v[0],k=v[1];return g?Object(O.jsx)(o.a,{}):Object(O.jsx)("div",{className:"auth",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"auth__wrapper",children:[Object(O.jsxs)("div",{className:"auth__content",children:[Object(O.jsxs)("div",{className:"auth__head",children:[Object(O.jsx)("h1",{className:"auth__heading",children:c("nav.auth")}),f&&Object(O.jsx)("p",{className:"auth__text--error",children:f})]}),Object(O.jsxs)("form",{className:"auth__body",onSubmit:function(e){return function(e){if(e.preventDefault(),""===l||""===u)return N(c("error.fill all"));k(!0),b.a.post("/users/login",{login:l,password:u}).then((function(e){console.log(e),k(!0),N(null),a(e.data.token)})).catch((function(e){console.log(e.response.data.message),N(e.response.data.message),k(!1)}))}(e)},children:[Object(O.jsxs)("label",{className:"auth__label",children:[c("input.y login"),Object(O.jsx)("input",{className:"auth__input",placeholder:c("input.login"),value:l,type:"text",onChange:function(e){return d(e.target.value)}})]}),Object(O.jsxs)("label",{className:"auth__label mb-2",children:[c("input.y password"),Object(O.jsx)("input",{className:"auth__input",placeholder:c("input.password"),value:u,type:"password",onChange:function(e){return h(e.target.value)}})]}),Object(O.jsx)("button",{className:"auth__btn",children:c("main.log in")})]})]}),Object(O.jsxs)("div",{className:"auth__brand",children:["\xa9180Gradus ",(new Date).getFullYear()]})]})})})};a.default=function(){var e=Object(i.h)(),a=Object(r.a)().t,c=Object(s.useState)(!1),n=Object(t.a)(c,2),d=n[0],j=n[1],m=Object(s.useState)(null),o=Object(t.a)(m,2),u=o[0],h=o[1],_=Object(s.useState)(null),N=Object(t.a)(_,2),p=(N[0],N[1]);return Object(s.useEffect)((function(){b.a.defaults.headers.common.Authorization=u&&"Bearer ".concat(u)}),[u]),Object(s.useEffect)((function(){u&&Object(b.a)("/".concat(e.section||"skins")).then((function(e){console.log(e),p(e.data.data.data)}))}),[u,e.section]),d?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("section",{className:"admin",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"admin__wrapper",children:[Object(O.jsxs)("nav",{className:"admin__nav",role:"navigation",children:[Object(O.jsx)(l.c,{to:"/admin",activeClassName:"admin__link--active",className:"admin__link",exact:!0,children:a("nav.dashboard")}),Object(O.jsx)(l.c,{to:"/admin/skins",activeClassName:"admin__link--active",className:"admin__link",children:a("nav.skins")}),Object(O.jsx)(l.c,{to:"/admin/orders",activeClassName:"admin__link--active",className:"admin__link",children:a("nav.orders")}),Object(O.jsx)(l.c,{to:"/admin/categories",activeClassName:"admin__link--active",className:"admin__link",children:a("main.categories")}),Object(O.jsx)(l.c,{to:"/admin/users",activeClassName:"admin__link--active",className:"admin__link",children:a("nav.users")})]}),Object(O.jsx)("div",{className:"admin__body",children:Object(O.jsxs)(i.c,{children:[Object(O.jsx)(i.a,{path:"/admin/skins",children:Object(O.jsx)(x,{token:u})}),Object(O.jsx)(i.a,{path:"/categories",children:"Hello"}),Object(O.jsx)(i.a,{path:"/orders",children:"Hello"}),Object(O.jsx)(i.a,{path:"/users",children:"Hello"})]})})]})})})}):Object(O.jsx)(f,{onAuth:function(e){j(!0),h(e)}})}}}]);
//# sourceMappingURL=14.a838267b.chunk.js.map