(this["webpackJsonpcover-exp"]=this["webpackJsonpcover-exp"]||[]).push([[14],{108:function(e,a,c){"use strict";var n=c(2);c(111);a.a=function(e){var a=e.z,c=e.close,t=e.className;return Object(n.jsx)("div",{className:"backdrop ".concat(t||""),style:{zIndex:a},onClick:function(){return c()}})}},111:function(e,a,c){},112:function(e,a,c){"use strict";var n=c(2);a.a=function(e){var a=e.className;return Object(n.jsx)("div",{className:"loading ".concat(a||"")})}},162:function(e,a,c){},176:function(e,a,c){"use strict";c.r(a);var n=c(34),t=c(5),s=c(26),i=c(2),l=c(1),r=c(4),j=c(6),d=c(67),m=c(110),b=c(18),o=c(121),u=(c(162),c(16)),h=c(55),O=c(112),_=c(108),x=function(e){var a=e.click,c=e.close,n=(e.message,e.items),t=Object(d.a)().t;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(_.a,{z:100,close:c}),Object(i.jsxs)("div",{className:"confirm",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"confirm__text",children:t("main.confirm")}),n&&Object(i.jsxs)("p",{className:"confirm__text--sub",children:[t("main.to delete"),": ",n]})]}),Object(i.jsxs)("div",{className:"flex w-100 jce",children:[Object(i.jsx)("button",{className:"btn btn__ghost btn__ghost--active mr-1",onClick:a,children:t("main.apply")}),Object(i.jsx)("button",{className:"btn btn__ghost btn__ghost--active",onClick:c,children:t("main.cancel")})]})]})]})},N=function(){var e=Object(d.a)().t,a=Object(l.useState)(null),c=Object(s.a)(a,2),r=c[0],j=c[1],h=Object(l.useState)(!1),_=Object(s.a)(h,2),N=_[0],f=_[1],p=Object(l.useState)(!1),v=Object(s.a)(p,2),g=(v[0],v[1],Object(l.useRef)()),k=Object(l.useState)(!1),C=Object(s.a)(k,2),w=C[0],y=C[1],S=Object(l.useState)(!1),F=Object(s.a)(S,2),I=F[0],z=F[1],E=Object(l.useState)(!1),H=Object(s.a)(E,2),A=H[0],D=H[1],J=Object(l.useState)(null),L=Object(s.a)(J,2),$=L[0],G=L[1],P=Object(l.useState)(null),R=Object(s.a)(P,2),Y=R[0],q=R[1],B=Object(l.useState)(null),K=Object(s.a)(B,2),M=K[0],Q=K[1];Object(l.useEffect)((function(){Object(u.a)("/skins").then((function(e){var a=e.data;console.log(a),j(a.data.data)}))}),[]);var T=A&&A._id;Object(l.useEffect)((function(){return Q(null)}),[T]);var U=A&&A.skins&&A.skins.map((function(e,a){return Object(i.jsxs)("div",{className:"admin__panel-item ".concat($&&$._id===e._id?"admin__panel-item--active":""),tabIndex:"0",onClick:function(){return G(e)},children:[Object(i.jsxs)("div",{className:"flex aic",children:[Object(i.jsx)("figure",{className:"admin__panel-figure",children:Object(i.jsx)(m.LazyLoadImage,{className:"img",width:"100%",height:"100%",alt:e.name,effect:"opacity",src:"http://localhost:3003/images/".concat(e.image)})}),Object(i.jsx)("span",{className:"admin__panel-itemname",children:e.name})]}),Object(i.jsxs)("span",{className:"admin__panel-itemprice",children:["$",parseFloat(e.price).toFixed(2)]})]},a)})),V=r&&r.length>0&&r.map((function(a,c){return Object(i.jsxs)("li",{className:"admin__item pos-rel",children:[Object(i.jsxs)("div",{className:"admin__card ".concat(A&&a._id===A._id?"admin__card--active":""),onClick:function(){var e;z(!1),e=a,f(!0),Object(u.a)("/skins/".concat(e._id,"?project=skins")).then((function(a){var c=a.data;D(Object(t.a)(Object(t.a)({},e),{},{skins:c.data.data.skins})),f(!1)})),q(null)},tabIndex:"0",children:[Object(i.jsxs)("div",{className:"flex fdc mr-15",children:[Object(i.jsx)("span",{className:"admin__card-title",children:a.device}),Object(i.jsx)("span",{className:"heading heading--sub c-grey-l",children:a.type})]}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsxs)("span",{className:"admin__card-feature",children:[e("main.num skins"),": ",a.skins.length]}),Object(i.jsxs)("span",{className:"admin__card-feature",children:[e("main.num purchases"),": ",a.numberOfPurchases]})]})]}),Object(i.jsx)("div",{className:"admin__card-sets",children:A&&A._id===a._id&&Object(i.jsx)("button",{className:"admin__card-btn",onClick:function(){return q("device")},children:Object(i.jsx)(b.r,{className:"icon--sm"})})})]},c)}));return I&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"admin__panel-head flex aic jcsb",children:[Object(i.jsx)("h1",{className:"heading heaing--main",children:e("main.edit")}),Object(i.jsx)("button",{className:"btn btn__circle",onClick:function(){return z(null)},children:Object(i.jsx)(b.r,{className:"icon"})})]}),Object(i.jsx)("div",{className:"admin__panel-body"})]}),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"flex w-100 jce mb-15",children:[A&&Object(i.jsx)("button",{className:"btn btn__ghost btn__ghost--active mr-1",onClick:function(){return Q({name:"",price:"",image:null})},children:e("main.add skin")}),Object(i.jsx)("button",{className:"btn btn__ghost btn__ghost--active",onClick:function(){y(!w),z(!1)},children:e(w?"main.save":"main.add")})]}),Object(i.jsxs)("div",{className:"flex w-100",children:[Y&&"device"===Y&&Object(i.jsx)(x,{click:function(){u.a.delete("/skins/".concat(A._id)).then((function(e){var a=r.filter((function(e){return e._id!==A._id}));j(a),D(null),q(null)}))},close:function(){return q(null)},items:A.device}),r&&r.length>0?Object(i.jsxs)("div",{className:"flex fdc w-100",children:[Object(i.jsx)(o.Scrollbars,{className:"fgr",style:{height:"25rem",width:"100%"},children:Object(i.jsx)("ul",{className:"admin__list",children:V})}),M&&Object(i.jsxs)("div",{className:"admin__form",children:[Object(i.jsx)("div",{className:"admin__panel-head",children:Object(i.jsxs)("div",{className:"flex aic jcsb",children:[Object(i.jsx)("h1",{className:"heading heaing--main",children:e("main.add")}),Object(i.jsx)("button",{className:"btn btn__circle",onClick:function(){return Q(null)},children:Object(i.jsx)(b.r,{className:"icon"})})]})}),Object(i.jsxs)("div",{className:"flex w-100",children:[Object(i.jsxs)("div",{className:"w-100",children:[Object(i.jsxs)("label",{className:"admin__card-feature w-100",children:[e("main.name"),Object(i.jsx)("input",{className:"admin__input",type:"text",placeholder:e("main.name"),value:M.name,onChange:function(e){return Q((function(a){return Object(t.a)(Object(t.a)({},a),{},{name:e.target.value})}))}})]}),Object(i.jsxs)("label",{className:"admin__card-feature w-100",children:[e("main.price"),Object(i.jsx)("input",{className:"admin__input",type:"text",placeholder:e("main.price"),value:M.price,onChange:function(e){return Q((function(a){return Object(t.a)(Object(t.a)({},a),{},{price:e.target.value})}))}})]}),Object(i.jsx)("input",{className:"none",type:"file",accept:"image/*",ref:g})]}),Object(i.jsxs)("div",{className:"admin__images",children:[Object(i.jsx)("span",{className:"admin__card-feature",children:"Images:"}),Object(i.jsx)("button",{className:"btn btn__ghost btn__ghost--active",type:"button",onClick:function(){return g.current.click()},children:Object(i.jsx)(b.p,{className:"icon"})})]})]})]})]}):Object(i.jsx)("div",{className:"admin__list text text--mid tc",children:e("main.nothing here")}),w&&Object(i.jsxs)("div",{className:"admin__panel",children:[Object(i.jsxs)("div",{className:"admin__panel-head flex aic jcsb",children:[Object(i.jsx)("h1",{className:"heading heaing--main",children:e("main.add")}),Object(i.jsx)("button",{className:"btn btn__circle",onClick:function(){return y(!1)},children:Object(i.jsx)(b.r,{className:"icon"})})]}),Object(i.jsx)("div",{className:"admin__panel-body"})]}),A?Object(i.jsx)("div",{className:"admin__panel",children:N?Object(i.jsx)("div",{className:"wh-100 flex aic jcc",children:Object(i.jsx)(O.a,{})}):Object(i.jsxs)(i.Fragment,{children:[Y&&"skin"===Y&&Object(i.jsx)(x,{click:function(){return function(e){var a=A.skins.filter((function(a){return a._id!==e}));u.a.patch("/skins/".concat(A._id),{skins:a}).then((function(e){D(Object(t.a)(Object(t.a)({},A),{},{skins:a})),q(!1),console.log(e)}))}($._id)},close:function(){return q(null)},items:"".concat(A.device,", ").concat($.name)}),Object(i.jsxs)("div",{className:"admin__panel-head",children:[Object(i.jsxs)("div",{className:"flex jcsb aic",children:[Object(i.jsx)("h1",{className:"heading heaing--main",children:A.device}),Object(i.jsx)("button",{className:"btn btn__circle",onClick:function(){return D(null)},children:Object(i.jsx)(b.r,{className:"icon"})})]}),Object(i.jsxs)("span",{className:"admin__card-feature",children:[e("main.num skins"),": ",A.skins.length,"; ",e("main.avg price"),": $",parseFloat(A.skins.reduce((function(e,a){return e+parseFloat(a.price)}),0)/A.skins.length).toFixed(2)]})]}),Object(i.jsx)("div",{className:"admin__panel-body",children:Object(i.jsx)(o.Scrollbars,{className:"admin__panel-wrapper",children:U})}),Object(i.jsxs)("div",{className:"admin__panel-footer",children:[M&&Object(i.jsx)("button",{className:"admin__card-btn mr-5",onClick:function(){u.a.patch("/skins/".concat(A._id),{skins:[].concat(Object(n.a)(A.skins),[M])}).then((function(){}))},children:Object(i.jsx)(b.d,{className:"icon--sm"})}),$&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("button",{className:"admin__card-btn mr-5",onClick:function(){},children:Object(i.jsx)(b.n,{className:"icon--sm"})}),Object(i.jsx)("button",{className:"admin__card-btn",onClick:function(){return q("skin")},children:Object(i.jsx)(b.l,{className:"icon--sm"})})]})]})]})}):!w&&Object(i.jsx)("div",{className:"admin__panel"})]})]})},f=function(e){var a=e.onAuth,c=Object(d.a)().t,n=Object(l.useState)("admin"),t=Object(s.a)(n,2),r=t[0],j=t[1],m=Object(l.useState)("hehe boay"),b=Object(s.a)(m,2),o=b[0],O=b[1],_=Object(l.useState)(null),x=Object(s.a)(_,2),N=x[0],f=x[1],p=Object(l.useState)(!1),v=Object(s.a)(p,2),g=v[0],k=v[1];return g?Object(i.jsx)(h.a,{}):Object(i.jsx)("div",{className:"auth",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"auth__wrapper",children:[Object(i.jsxs)("div",{className:"auth__content",children:[Object(i.jsxs)("div",{className:"auth__head",children:[Object(i.jsx)("h1",{className:"auth__heading",children:c("nav.auth")}),N&&Object(i.jsx)("p",{className:"auth__text--error",children:N})]}),Object(i.jsxs)("form",{className:"auth__body",onSubmit:function(e){return function(e){if(e.preventDefault(),""===r||""===o)return f(c("error.fill all"));k(!0),u.a.post("/users/login",{login:r,password:o}).then((function(e){console.log(e),k(!0),f(null),a(e.data.token)})).catch((function(e){console.log(e.response.data.message),f(e.response.data.message),k(!1)}))}(e)},children:[Object(i.jsxs)("label",{className:"auth__label",children:[c("input.y login"),Object(i.jsx)("input",{className:"auth__input",placeholder:c("input.login"),value:r,type:"text",onChange:function(e){return j(e.target.value)}})]}),Object(i.jsxs)("label",{className:"auth__label mb-2",children:[c("input.y password"),Object(i.jsx)("input",{className:"auth__input",placeholder:c("input.password"),value:o,type:"password",onChange:function(e){return O(e.target.value)}})]}),Object(i.jsx)("button",{className:"auth__btn",children:c("main.log in")})]})]}),Object(i.jsxs)("div",{className:"auth__brand",children:["\xa9180Gradus ",(new Date).getFullYear()]})]})})})};a.default=function(){var e=Object(r.h)(),a=Object(d.a)().t,c=Object(l.useState)(!1),n=Object(s.a)(c,2),t=n[0],m=n[1],b=Object(l.useState)(null),o=Object(s.a)(b,2),h=o[0],O=o[1],_=Object(l.useState)(null),x=Object(s.a)(_,2),p=(x[0],x[1]);return Object(l.useEffect)((function(){h&&Object(u.a)("/".concat(e.section||"skins")).then((function(e){console.log(e),p(e.data.data.data)}))}),[h,e.section]),t?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("section",{className:"admin",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"admin__wrapper",children:[Object(i.jsxs)("nav",{className:"admin__nav",role:"navigation",children:[Object(i.jsx)(j.c,{to:"/admin",activeClassName:"admin__link--active",className:"admin__link",exact:!0,children:a("nav.dashboard")}),Object(i.jsx)(j.c,{to:"/admin/skins",activeClassName:"admin__link--active",className:"admin__link",children:a("nav.skins")}),Object(i.jsx)(j.c,{to:"/admin/orders",activeClassName:"admin__link--active",className:"admin__link",children:a("nav.orders")}),Object(i.jsx)(j.c,{to:"/admin/categories",activeClassName:"admin__link--active",className:"admin__link",children:a("main.categories")}),Object(i.jsx)(j.c,{to:"/admin/users",activeClassName:"admin__link--active",className:"admin__link",children:a("nav.users")})]}),Object(i.jsx)("div",{className:"admin__body",children:Object(i.jsxs)(r.c,{children:[Object(i.jsx)(r.a,{path:"/admin/skins",children:Object(i.jsx)(N,{token:h})}),Object(i.jsx)(r.a,{path:"/categories",children:"Hello"}),Object(i.jsx)(r.a,{path:"/orders",children:"Hello"}),Object(i.jsx)(r.a,{path:"/users",children:"Hello"})]})})]})})})}):Object(i.jsx)(f,{onAuth:function(e){m(!0),O(e)}})}}}]);
//# sourceMappingURL=14.51ce537f.chunk.js.map